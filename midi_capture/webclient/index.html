<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css" type="text/css">
    <title>MIDI Capture Test with WebSocket Client</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.4/socket.io.js"></script>
</head>
<body>
    <h1>MIDI Signal Capture Test</h1>
    <h3>Settings</h3>

    <div>
        <p class="indentedlvl1"><span id="setting_use_server_status">Not sending data to server.</span>
        <button id="toggleUseServerButton">Toggle use server</button>
        </p>
    </div>

    <h3 id="heading_status">Local MIDI Event Capturing Status</h3>

    <p id="p_midi_access_status" class="indentedlvl1">
        <span id="status_midiaccess_label"><i>MIDI Access Status:</i></span>
        <span id="status_midiaccess">current MIDI Access Status here</span>
    </p>

    <p id="p_midi_status" class="indentedlvl1">
        <span id="status_label"><i>MIDI Status:</i></span>
        <span id="status">current MIDI Status here</span>
    </p>

    <h3 id="heading_status">Server Communication Status</h3>

    <p id="p_server_status" class="indentedlvl1">
        <span id="server_status_label"><i>Server Connection Status / Response:</i></span>
        <span id="server_status">current server Status here</span>
    </p>
    <hr />
    <div id="stuff_that_is_shown_only_when_server_is_used" class="hidden">
        <h4>Timing info</h3>
        <p id="p_timing_info_capture_to_server" class="indentedlvl1">
            Timing info MIDI event to server (ms):
            <span id="timing_info_midi_event_to_server"></span>
        </p>
        <p id="p_timing_stats_capture_to_server" class="indentedlvl2">
            - Stats (ms):
            <span id="timing_stats_midi_event_to_server"></span>
        </p>
        <hr />
        <p id="p_timing_info_roundtrip" class="indentedlvl2">
            Timing info MIDI event to server and back to client (ms):
            <span id="timing_info_midi_event_to_server_to_client"></span>
        </p>
        <p id="p_timing_stats_roundtrip" class="indentedlvl2">
            - Stats (ms):
            <span id="timing_stats_midi_event_to_server_to_client"></span>
        </p>
        <hr />
        <h4>Total MIDI messages sent over the network</h3>
        <p id="p_server_stats_send" class="indentedlvl1">
            Number of MIDI messages sent to server:
            <span id="stats_num_server_midi_messages_sent">0</span>
        </p>
        <p id="p_server_stats_received" class="indentedlvl1">
            Number of positive responses received from server:
            <span id="stats_num_server_responses_received">0</span>
        </p>
    </div>


    <script src="midi.js"></script>
</body>
</html>